ruby:
  @decks_visible = @round.stage.decks_visible_to(current_user)
.col-12
  p.dontprint= link_to :back, class: 'btn btn-primary' do
    => fa_icon 'arrow-left'
    | Back to pairings

  h3 Round #{@round.number} pairings

  table.table.table-striped
    thead
      tr
        th Table
        - if @decks_visible
          th Decks
        th Player Name
        th Opponent
    tbody
      - @pairings.each do |p|
        tr
          td= p[:table_number]
          - if @decks_visible
            td= link_to view_decks_tournament_round_pairing_path(@tournament, @round, p[:pairing]), class: 'ml-2' do
              => fa_icon 'eye'
              | View decks
          td
            =p[:player1_name]
            - if p[:pairing].round.stage.format == :single_sided_swiss.to_s
              <br />
              = render p[:pairing].player1_is_corp? ? p[:pairing].player1.corp_identity_object : p[:pairing].player1.runner_identity_object
          td
            = p[:player2_name]
            - if p[:pairing].round.stage.format == :single_sided_swiss.to_s
              <br />
              = render p[:pairing].player1_is_corp? ? p[:pairing].player2.runner_identity_object : p[:pairing].player2.corp_identity_object
